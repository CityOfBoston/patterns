<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Chart</title>

  <!--[if !IE]><!-->
  <link rel="stylesheet" type="text/css" href="/css/public.css" />
  <!--<![endif]-->
  <!--[if lt IE 10]>
    <link media="all" rel="stylesheet" href="/css/ie.css">
  <![endif]-->

</head>

<body>
  <cob-chart>
    <script type="application/json" slot="config">
      {
        "$schema": "https://vega.github.io/schema/vega/v4.json",
        "boston": {
          "chartID": "pieChart"
        },
        "width": 300,
        "height": 300,
        "autosize": {
          "type": "pad",
          "resize": true
        },
        "padding": 0,
        "data": [{
          "name": "table",
          "url": "https://gist.githubusercontent.com/paylakatel/61e80f50ebdfd5dcd368cb1eb926c9e1/raw/95d4e3cb1c15681cefe496b9716035d45605c25b/pieChartData.csv",
          "transform": [{
            "type": "pie",
            "field": "percent"
          }]
        }],
        "scales": [{
          "name": "color",
          "type": "ordinal",
          "range": {
            "scheme": "category20"
          }
        }],
        "legends": [{
          "fill": "color",
          "orient": "bottom",
          "labelFont": "Lora",
          "labelLimit": 500,
          "labelFontSize": 14,
          "offset": 5
        }],
        "marks": [{
          "type": "arc",
          "from": {
            "data": "table"
          },
          "encode": {
            "enter": {
              "fill": {
                "scale": "color",
                "field": "expenditure"
              },
              "x": {
                "signal": "width / 2"
              },
              "y": {
                "signal": "height / 2"
              },
              "tooltip": {
                "signal": "{title: datum.expenditure, 'Budget': datum.percent}"
              }
            },
            "update": {
              "startAngle": {
                "field": "startAngle"
              },
              "endAngle": {
                "field": "endAngle"
              },
              "padAngle": 0,
              "innerRadius": {
                "signal": "width/4"
              },
              "outerRadius": {
                "signal": "width / 2"
              },
              "cornerRadius": 0
            }
          }
        }]
      }
        </script>
  </cob-chart>

  <script src="/web-components/fleetcomponents.js"></script>
</body>

</html>